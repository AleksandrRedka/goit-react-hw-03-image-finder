{"version":3,"sources":["components/SearchForm/SearchForm.module.css","components/Gallery/Gallery.module.css","components/Modal/Modal.module.css","components/SearchForm/SearchForm.js","components/Gallery/Gallery.js","components/Loader/Loader.js","components/Modal/Modal.js","components/App/App.js","services/gallery-api.js","index.js"],"names":["module","exports","SearchForm","searchValue","onChange","onSearch","className","styles","searchForm","onSubmit","type","autoComplete","placeholder","value","Gallery","photo","openModal","loadMore","wrapperGallery","gallery","map","item","photoCard","key","id","src","webFormat","alt","tags","stats","statsItem","likes","views","coments","downloads","fullScreenButton","onClick","Loader","Modal","activeImg","closeModal","overlay","role","modal","mapper","webformatURL","largeFormat","largeImageURL","App","state","page","activeImgUrl","isLoading","error","handleSubmitForm","e","preventDefault","setState","fetchPhoto","handleChangeForm","target","handleLoadMore","handleOpenModal","find","handleCloseModal","localName","prevProps","prevState","this","length","window","scrollTo","top","document","body","scrollHeight","behavior","axios","get","galleryAPI","then","data","concat","hits","catch","finally","Component","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.a98935f8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__3tlus\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapperGallery\":\"Gallery_wrapperGallery__3N3Vu\",\"gallery\":\"Gallery_gallery__3RNHd\",\"photoCard\":\"Gallery_photoCard__2QnOi\",\"stats\":\"Gallery_stats__yxXlt\",\"statsItem\":\"Gallery_statsItem__1ue7_\",\"loadMore\":\"Gallery_loadMore__2zw3p\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nconst SearchForm = ({ searchValue, onChange, onSearch }) => (\n  <form className={styles.searchForm} onSubmit={onSearch}>\n    <input\n      type=\"text\"\n      autoComplete=\"off\"\n      placeholder=\"Search images...\"\n      value={searchValue}\n      onChange={onChange}\n    />\n  </form>\n);\n\nSearchForm.propTypes = {\n  searchValue: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onSearch: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\n\nconst Gallery = ({ photo, openModal, loadMore }) => {\n  return (\n    <div className={styles.wrapperGallery}>\n      <ul className={styles.gallery}>\n        {photo.map(item => (\n          <li className={styles.photoCard} key={item.id}>\n            <img src={item.webFormat} alt={item.tags} />\n\n            <div className={styles.stats}>\n              <p className={styles.statsItem}>\n                <i className=\"material-icons\">thumb_up</i>\n                {item.likes}\n              </p>\n              <p className={styles.statsItem}>\n                <i className=\"material-icons\">visibility</i>\n                {item.views}\n              </p>\n              <p className={styles.statsItem}>\n                <i className=\"material-icons\">comment</i>\n                {item.coments}\n              </p>\n              <p className={styles.statsItem}>\n                <i className=\"material-icons\">cloud_download</i>\n                {item.downloads}\n              </p>\n            </div>\n            <button\n              type=\"button\"\n              className={styles.fullScreenButton}\n              onClick={() => openModal(item.id)}\n            >\n              <i className=\"material-icons\">zoom_out_map</i>\n            </button>\n          </li>\n        ))}\n      </ul>\n      <button className={styles.loadMore} type=\"button\" onClick={loadMore}>\n        Load More\n      </button>\n    </div>\n  );\n};\n\nGallery.propTypes = {\n  photo: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      webFormat: PropTypes.string.isRequired,\n      largeFormat: PropTypes.string.isRequired,\n      likes: PropTypes.number.isRequired,\n      views: PropTypes.number.isRequired,\n      tags: PropTypes.string.isRequired,\n      comments: PropTypes.number.isRequired,\n      downloads: PropTypes.number.isRequired,\n    }),\n  ).isRequired,\n  openModal: PropTypes.func.isRequired,\n  loadMore: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React from 'react'\nimport './Loader.module.css'\nconst Loader = () => <h1>Loading....</h1>\n\nexport default Loader\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styles from './Modal.module.css'\n\nconst Modal = ({ activeImg, closeModal }) => {\n  return (\n    <div className={styles.overlay} onClick={closeModal} role='presentation'>\n      <div className={styles.modal}>\n        <img src={activeImg} alt='pictures' />\n      </div>\n    </div>\n  )\n}\n\nModal.propTypes = {\n  activeImg: PropTypes.string.isRequired,\n  closeModal: PropTypes.func.isRequired\n}\n\nexport default Modal\n","import React, { Component } from 'react';\nimport './App.module.css';\nimport SearchForm from '../SearchForm/SearchForm';\nimport Gallery from '../Gallery/Gallery';\nimport Loader from '../Loader/Loader';\nimport Modal from '../Modal/Modal';\nimport * as galleryAPI from '../../services/gallery-api';\n\nconst mapper = photo => {\n  return photo.map(\n    ({ webformatURL: webFormat, largeImageURL: largeFormat, ...props }) => ({\n      webFormat,\n      largeFormat,\n      ...props,\n    }),\n  );\n};\n\nexport default class App extends Component {\n  state = {\n    searchValue: '',\n    photo: [],\n    page: 1,\n    activeImgUrl: '',\n    isLoading: false,\n    openModal: false,\n    error: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { photo } = this.state;\n    if (prevState.photo !== photo && photo.length > 12) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  fetchPhoto() {\n    const { searchValue, page } = this.state;\n    this.setState({ isLoading: true });\n    galleryAPI\n      .fetchGallery(searchValue, page)\n      .then(({ data }) =>\n        this.setState(state => {\n          return {\n            photo: [...state.photo.concat(mapper(data.hits))],\n            page: state.page + 1,\n          };\n        }),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  }\n\n  handleSubmitForm = e => {\n    e.preventDefault();\n    this.setState({ photo: [] });\n    this.fetchPhoto();\n  };\n\n  handleChangeForm = e => {\n    e.preventDefault();\n    return this.setState({ searchValue: e.target.value });\n  };\n\n  handleLoadMore = e => {\n    e.preventDefault();\n    this.fetchPhoto();\n  };\n\n  handleOpenModal = id => {\n    const { photo } = this.state;\n    const { largeFormat } = photo.find(item => item.id === id);\n    this.setState({ openModal: true, activeImgUrl: largeFormat });\n  };\n\n  handleCloseModal = e => {\n    if (e.target.localName !== 'img') {\n      this.setState({ openModal: false, activeImgUrl: '' });\n    }\n  };\n\n  render() {\n    const {\n      photo,\n      searchValue,\n      activeImgUrl,\n      isLoading,\n      openModal,\n      error,\n    } = this.state;\n    return (\n      <div>\n        {error && <p>error.messege</p>}\n        <SearchForm\n          searchValue={searchValue}\n          onChange={this.handleChangeForm}\n          onSearch={this.handleSubmitForm}\n        />\n        {isLoading && <Loader />}\n        {photo.length > 0 && (\n          <Gallery\n            photo={photo}\n            openModal={this.handleOpenModal}\n            loadMore={this.handleLoadMore}\n          />\n        )}\n        {openModal && (\n          <Modal activeImg={activeImgUrl} closeModal={this.handleCloseModal} />\n        )}\n      </div>\n    );\n  }\n}\n","import axios from 'axios'\n\nconst API_KEY = '14420013-646f294a2258892fb35b029ee'\nconst BASE_URL = `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=`\n\n// eslint-disable-next-line\nexport const fetchGallery = (searchValue, page) =>\n  axios.get(\n    `${BASE_URL}+${searchValue}&page=${page}&per_page=12&key=${API_KEY}`\n  )\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}