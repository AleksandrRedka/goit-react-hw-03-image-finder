(this["webpackJsonpreact_1.1"]=this["webpackJsonpreact_1.1"]||[]).push([[0],{18:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__3tlus"}},2:function(e,t,a){e.exports={wrapperGallery:"Gallery_wrapperGallery__3N3Vu",gallery:"Gallery_gallery__3RNHd",photoCard:"Gallery_photoCard__2QnOi",stats:"Gallery_stats__yxXlt",statsItem:"Gallery_statsItem__1ue7_",loadMore:"Gallery_loadMore__2zw3p"}},24:function(e,t,a){e.exports=a(48)},29:function(e,t,a){},3:function(e,t,a){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5"}},30:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(13),l=a.n(o),c=a(20),s=a(14),i=a(15),m=a(21),u=a(16),p=a(22),h=a(17),d=a(23),f=(a(29),a(18)),g=a.n(f),y=function(e){var t=e.searchValue,a=e.onChange,r=e.onSearch;return n.a.createElement("form",{className:g.a.searchForm,onSubmit:r},n.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",value:t,onChange:a}))},v=a(2),b=a.n(v),_=function(e){var t=e.photo,a=e.openModal,r=e.loadMore;return n.a.createElement("div",{className:b.a.wrapperGallery},n.a.createElement("ul",{className:b.a.gallery},t.map((function(e){return n.a.createElement("li",{className:b.a.photoCard,key:e.id},n.a.createElement("img",{src:e.webFormat,alt:e.tags}),n.a.createElement("div",{className:b.a.stats},n.a.createElement("p",{className:b.a.statsItem},n.a.createElement("i",{className:"material-icons"},"thumb_up"),e.likes),n.a.createElement("p",{className:b.a.statsItem},n.a.createElement("i",{className:"material-icons"},"visibility"),e.views),n.a.createElement("p",{className:b.a.statsItem},n.a.createElement("i",{className:"material-icons"},"comment"),e.coments),n.a.createElement("p",{className:b.a.statsItem},n.a.createElement("i",{className:"material-icons"},"cloud_download"),e.downloads)),n.a.createElement("button",{type:"button",className:b.a.fullScreenButton,onClick:function(){return a(e.id)}},n.a.createElement("i",{className:"material-icons"},"zoom_out_map")))}))),n.a.createElement("button",{className:b.a.loadMore,type:"button",onClick:r},"Load More"))},E=(a(30),function(){return n.a.createElement("h1",null,"Loading....")}),O=a(3),w=a.n(O),M=function(e){var t=e.activeImg,a=e.closeModal;return n.a.createElement("div",{className:w.a.overlay,onClick:a,role:"presentation"},n.a.createElement("div",{className:w.a.modal},n.a.createElement("img",{src:t,alt:"pictures"})))},N=a(19),j=a.n(N);function S(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var C=function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?S(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):S(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({webFormat:e.webformatURL,largeFormat:e.largeImageURL},Object(d.a)(e,["webformatURL","largeImageURL"]))}))},I=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={searchValue:"",photo:[],page:1,activeImgUrl:"",isLoading:!1,openModal:!1,error:null},a.handleSubmitForm=function(e){e.preventDefault(),a.setState({photo:[]}),a.fetchPhoto()},a.handleChangeForm=function(e){return e.preventDefault(),a.setState({searchValue:e.target.value})},a.handleLoadMore=function(e){e.preventDefault(),a.fetchPhoto()},a.handleOpenModal=function(e){var t=a.state.photo.find((function(t){return t.id===e})).largeFormat;a.setState({openModal:!0,activeImgUrl:t})},a.handleCloseModal=function(e){"img"!==e.target.localName&&a.setState({openModal:!1,activeImgUrl:""})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.state.photo;t.photo!==a&&a.length>12&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}},{key:"fetchPhoto",value:function(){var e=this,t=this.state,a=t.searchValue,r=t.page;this.setState({isLoading:!0}),function(e,t){return j.a.get("".concat("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=","+").concat(e,"&page=").concat(t,"&per_page=12&key=").concat("14420013-646f294a2258892fb35b029ee"))}(a,r).then((function(t){var a=t.data;return e.setState((function(e){return{photo:Object(c.a)(e.photo.concat(C(a.hits))),page:e.page+1}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.photo,a=e.searchValue,r=e.activeImgUrl,o=e.isLoading,l=e.openModal,c=e.error;return n.a.createElement("div",null,c&&n.a.createElement("p",null,"error.messege"),n.a.createElement(y,{searchValue:a,onChange:this.handleChangeForm,onSearch:this.handleSubmitForm}),o&&n.a.createElement(E,null),t.length>0&&n.a.createElement(_,{photo:t,openModal:this.handleOpenModal,loadMore:this.handleLoadMore}),l&&n.a.createElement(M,{activeImg:r,closeModal:this.handleCloseModal}))}}]),t}(r.Component);l.a.render(n.a.createElement(I,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.a98935f8.chunk.js.map