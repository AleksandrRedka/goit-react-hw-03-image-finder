(this["webpackJsonpreact_1.1"]=this["webpackJsonpreact_1.1"]||[]).push([[0],{24:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__3tlus"}},29:function(e,t,a){e.exports=a(56)},3:function(e,t,a){e.exports={wrapperGallery:"Gallery_wrapperGallery__3N3Vu",gallery:"Gallery_gallery__3RNHd",photoCard:"Gallery_photoCard__2QnOi",stats:"Gallery_stats__yxXlt",statsItem:"Gallery_statsItem__1ue7_",loadMore:"Gallery_loadMore__2zw3p"}},35:function(e,t,a){},36:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var r=a(1),o=a.n(r),n=a(5),l=a.n(n),c=a(26),s=a(19),i=a(20),m=a(27),u=a(21),p=a(28),h=a(22),d=a(23),f=a(9),g=(a(34),a(35),a(24)),y=a.n(g),b=function(e){var t=e.searchValue,a=e.onChange,r=e.onSearch;return o.a.createElement("form",{className:y.a.searchForm,onSubmit:r},o.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",value:t,onChange:a}))},v=a(3),_=a.n(v),E=function(e){var t=e.photo,a=e.openModal,r=e.loadMore;return o.a.createElement("div",{className:_.a.wrapperGallery},o.a.createElement("ul",{className:_.a.gallery},t.map((function(e){return o.a.createElement("li",{className:_.a.photoCard,key:e.id},o.a.createElement("img",{src:e.webFormat,alt:e.tags}),o.a.createElement("div",{className:_.a.stats},o.a.createElement("p",{className:_.a.statsItem},o.a.createElement("i",{className:"material-icons"},"thumb_up"),e.likes),o.a.createElement("p",{className:_.a.statsItem},o.a.createElement("i",{className:"material-icons"},"visibility"),e.views),o.a.createElement("p",{className:_.a.statsItem},o.a.createElement("i",{className:"material-icons"},"comment"),e.coments),o.a.createElement("p",{className:_.a.statsItem},o.a.createElement("i",{className:"material-icons"},"cloud_download"),e.downloads)),o.a.createElement("button",{type:"button",className:_.a.fullScreenButton,onClick:function(){return a(e.id)}},o.a.createElement("i",{className:"material-icons"},"zoom_out_map")))}))),o.a.createElement("button",{className:_.a.loadMore,type:"button",onClick:r},"Load More"))},O=(a(36),function(){return o.a.createElement("h1",null,"Loading....")}),w=a(8),M=a.n(w),N=function(e){var t=e.activeImg,a=e.closeModal;return o.a.createElement("div",{className:M.a.overlay,onClick:a,role:"presentation"},o.a.createElement("div",{className:M.a.modal},o.a.createElement("img",{src:t,alt:"pictures"})))},S=a(25),j=a.n(S);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var I=function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({webFormat:e.webformatURL,largeFormat:e.largeImageURL},Object(d.a)(e,["webformatURL","largeImageURL"]))}))},k=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={searchValue:"",photo:[],page:1,activeImgUrl:"",isLoading:!1,openModal:!1,error:null},a.toastEror=function(e){f.b.error("".concat(e),{position:"top-right",autoClose:3e3,closeOnClick:!0,draggable:!0})},a.handleSubmitForm=function(e){e.preventDefault(),""!==a.state.searchValue?(a.setState({photo:[]}),a.fetchPhoto()):a.toastEror("Sorry, you form empty!")},a.handleChangeForm=function(e){return e.preventDefault(),a.setState({searchValue:e.target.value})},a.handleLoadMore=function(e){e.preventDefault(),a.fetchPhoto()},a.handleOpenModal=function(e){var t=a.state.photo.find((function(t){return t.id===e})).largeFormat;a.setState({openModal:!0,activeImgUrl:t})},a.handleCloseModal=function(e){"img"!==e.target.localName&&a.setState({openModal:!1,activeImgUrl:""})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.state.photo;t.photo!==a&&a.length>12&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}},{key:"fetchPhoto",value:function(){var e=this,t=this.state,a=t.searchValue,r=t.page;this.setState({isLoading:!0}),function(e,t){return j.a.get("".concat("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=","+").concat(e,"&page=").concat(t,"&per_page=12&key=").concat("14420013-646f294a2258892fb35b029ee"))}(a,r).then((function(t){var a=t.data;return e.setState((function(e){return{photo:Object(c.a)(e.photo.concat(I(a.hits))),page:e.page+1}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.photo,a=e.searchValue,r=e.activeImgUrl,n=e.isLoading,l=e.openModal,c=e.error;return o.a.createElement("div",null,c&&o.a.createElement("p",null,"error.messege"),o.a.createElement(b,{searchValue:a,onChange:this.handleChangeForm,onSearch:this.handleSubmitForm}),n&&o.a.createElement(O,null),t.length>0&&o.a.createElement(E,{photo:t,openModal:this.handleOpenModal,loadMore:this.handleLoadMore}),l&&o.a.createElement(N,{activeImg:r,closeModal:this.handleCloseModal}),o.a.createElement(f.a,null))}}]),t}(r.Component);l.a.render(o.a.createElement(k,null),document.getElementById("root"))},8:function(e,t,a){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5"}}},[[29,1,2]]]);
//# sourceMappingURL=main.30915adb.chunk.js.map