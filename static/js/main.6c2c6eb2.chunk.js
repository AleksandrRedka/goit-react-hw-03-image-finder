(this["webpackJsonpreact_1.1"]=this["webpackJsonpreact_1.1"]||[]).push([[0],{24:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__3tlus"}},29:function(e,t,a){e.exports=a(56)},3:function(e,t,a){e.exports={wrapperGallery:"Gallery_wrapperGallery__3N3Vu",gallery:"Gallery_gallery__3RNHd",photoCard:"Gallery_photoCard__2QnOi",stats:"Gallery_stats__yxXlt",statsItem:"Gallery_statsItem__1ue7_",loadMore:"Gallery_loadMore__2zw3p"}},35:function(e,t,a){},36:function(e,t,a){},56:function(e,t,a){"use strict";a.r(t);var o=a(1),n=a.n(o),r=a(5),l=a.n(r),c=a(26),s=a(19),i=a(20),m=a(27),u=a(21),p=a(28),h=a(22),d=a(23),f=a(9),g=(a(34),a(35),a(24)),y=a.n(g),b=function(e){var t=e.searchValue,a=e.onChange,o=e.onSearch;return n.a.createElement("form",{className:y.a.searchForm,onSubmit:o},n.a.createElement("input",{type:"text",autoComplete:"off",placeholder:"Search images...",value:t,onChange:a}))},_=a(3),v=a.n(_),E=function(e){var t=e.photo,a=e.openModal,o=e.loadMore;return n.a.createElement("div",{className:v.a.wrapperGallery},n.a.createElement("ul",{className:v.a.gallery},t.map((function(e){return n.a.createElement("li",{className:v.a.photoCard,key:e.id},n.a.createElement("img",{src:e.webFormat,alt:e.tags}),n.a.createElement("div",{className:v.a.stats},n.a.createElement("p",{className:v.a.statsItem},n.a.createElement("i",{className:"material-icons"},"thumb_up"),e.likes),n.a.createElement("p",{className:v.a.statsItem},n.a.createElement("i",{className:"material-icons"},"visibility"),e.views),n.a.createElement("p",{className:v.a.statsItem},n.a.createElement("i",{className:"material-icons"},"comment"),e.coments),n.a.createElement("p",{className:v.a.statsItem},n.a.createElement("i",{className:"material-icons"},"cloud_download"),e.downloads)),n.a.createElement("button",{type:"button",className:v.a.fullScreenButton,onClick:function(){return a(e.id)}},n.a.createElement("i",{className:"material-icons"},"zoom_out_map")))}))),n.a.createElement("button",{className:v.a.loadMore,type:"button",onClick:o},"Load More"))},O=(a(36),function(){return n.a.createElement("h1",null,"Loading....")}),N=a(7),M=a.n(N),w=function(e){var t=e.activeImg,a=e.closeModal;return n.a.createElement("div",{className:M.a.overlay,onClick:a,role:"presentation"},n.a.createElement("div",{className:M.a.modal},t?n.a.createElement("img",{src:t,alt:"pictures"}):n.a.createElement("span",{className:M.a.textNotFound}," ","Sorry, but large image not found")),n.a.createElement("button",{className:M.a.closeBtn,type:"button",onClick:a},"close"))},S=a(25),j=a.n(S);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}var F=function(e){return e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({webFormat:e.webformatURL,largeFormat:e.largeImageURL},Object(d.a)(e,["webformatURL","largeImageURL"]))}))},I=function(e){function t(){var e,a;Object(s.a)(this,t);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={searchValue:"",photo:[],page:1,activeImgUrl:"",isLoading:!1,openModal:!1,error:null},a.toastEror=function(e){f.b.error("".concat(e),{position:"top-right",autoClose:3e3,closeOnClick:!0,draggable:!0})},a.handleSubmitForm=function(e){e.preventDefault(),""!==a.state.searchValue?(a.setState({photo:[]}),a.fetchPhoto()):a.toastEror("Sorry, you form empty!")},a.handleChangeForm=function(e){e.preventDefault(),a.setState({searchValue:e.target.value})},a.handleLoadMore=function(e){e.preventDefault(),a.fetchPhoto()},a.handleOpenModal=function(e){var t=a.state.photo.find((function(t){return t.id===e})).largeFormat;a.setState({openModal:!0,activeImgUrl:t})},a.handleCloseModal=function(e){"img"!==e.target.localName&&a.setState({openModal:!1,activeImgUrl:""})},a}return Object(p.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e,t){var a=this.state.photo;t.photo!==a&&a.length>12&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}},{key:"fetchPhoto",value:function(){var e=this,t=this.state,a=t.searchValue,o=t.page;this.setState({isLoading:!0}),function(e,t){return j.a.get("".concat("https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=","+").concat(e,"&page=").concat(t,"&per_page=12&key=").concat("14420013-646f294a2258892fb35b029ee"))}(a,o).then((function(t){var a=t.data;return e.setState((function(e){return{photo:Object(c.a)(e.photo.concat(F(a.hits))),page:e.page+1}}))})).catch((function(t){return e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.photo,a=e.searchValue,o=e.activeImgUrl,r=e.isLoading,l=e.openModal,c=e.error;return n.a.createElement("div",null,c&&n.a.createElement("p",null,"error.messege"),n.a.createElement(b,{searchValue:a,onChange:this.handleChangeForm,onSearch:this.handleSubmitForm}),r&&n.a.createElement(O,null),t.length>0&&n.a.createElement(E,{photo:t,openModal:this.handleOpenModal,loadMore:this.handleLoadMore}),l&&n.a.createElement(w,{activeImg:o,closeModal:this.handleCloseModal}),n.a.createElement(f.a,null))}}]),t}(o.Component);l.a.render(n.a.createElement(I,null),document.getElementById("root"))},7:function(e,t,a){e.exports={overlay:"Modal_overlay__2GjdW",modal:"Modal_modal__P3_V5",closeBtn:"Modal_closeBtn__1xWZV",textNotFound:"Modal_textNotFound__3G3YQ"}}},[[29,1,2]]]);
//# sourceMappingURL=main.6c2c6eb2.chunk.js.map